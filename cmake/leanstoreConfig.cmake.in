@PACKAGE_INIT@

include(CMakeFindDependencyMacro)

# Find dependencies
find_dependency(Threads)
find_dependency(spdlog CONFIG)
find_dependency(Crc32c CONFIG)
find_dependency(RapidJSON CONFIG)
find_dependency(cpptrace CONFIG)
find_dependency(boost_context CONFIG)
find_dependency(concurrentqueue CONFIG)
find_dependency(httplib CONFIG)

find_package(PkgConfig)

# libaio is a public dependency
if(PKG_CONFIG_FOUND)
  pkg_check_modules(LIBAIO QUIET libaio)
endif()

# Profiling dependencies
set(LEAN_ENABLE_PROFILING @LEAN_ENABLE_PROFILING@)
if(LEAN_ENABLE_PROFILING AND PKG_CONFIG_FOUND)
  pkg_check_modules(PKG_PROFILER IMPORTED_TARGET libprofiler)
  pkg_check_modules(PKG_TCMALLOC IMPORTED_TARGET libtcmalloc)
endif()

include("${CMAKE_CURRENT_LIST_DIR}/leanstoreTargets.cmake")

check_required_components(leanstore)